# 项目业务目标

## 产品定位
打造一个功能完整、体验流畅、可上线发布的 Telegram AI 伴侣平台。基于 SillyTavern 核心，结合 Supabase + Redis 架构，提供沉浸式、多角色、可回溯的角色扮演对话服务。

## 核心价值主张
1. **沉浸式多角色体验**: 上下文隔离的角色切换系统，支持用户与不同性格的 AI 建立独立关系。
2. **非线性叙事**: 独特的“对话快照”功能，允许用户保存存档并在任意时间点“接着聊”，探索不同剧情分支。
3. **便捷的发现与交互**: 通过 Telegram 频道自动发布角色，实现“即点即玩”的无缝接入。
4. **高可用与数据安全**: 完整的会话持久化（Supabase）与并发控制，确保对话不丢失、不串线。

## 阶段性功能目标 (Milestone)
1. **角色系统**: 实现基于 Supabase 的角色数据管理与动态切换，上下文严格隔离。
2. **存档机制**: 开发“历史对话快照”，支持保存进度与分叉对话。
3. **运营赋能**: 
   - 自动化角色发布到 TG 频道。
   - 动态配置系统（Supabase -> Redis），支持热更新运营策略。
4. **数据持久化**: 全量存储用户交互记录（Supabase），用于审计与回溯。
5. **体验优化**: 解决用户连续发送消息的并发冲突问题。

## 用户场景
1. **发现与切换**: 用户在官方频道看到心仪角色 -> 点击链接 -> Bot 自动切换至该角色并加载欢迎语。
2. **深度对话**: 用户与 AI 进行多轮交互，Bot 保持角色一致性与长期记忆。
3. **存档分支**: 用户在关键剧情点点击“保存对话” -> 生成快照 -> 数日后从该快照恢复，尝试另一条对话路径。
4. **无缝衔接**: 用户在不同设备上通过 Telegram 访问，对话进度实时同步（基于 Supabase）。